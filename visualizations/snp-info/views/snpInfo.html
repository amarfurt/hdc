<div>
    <div ng-show="loading">
        <h3>Loading records...</h3>
        <div class="progress progress-striped active">
            <div class="progress-bar" style="width: 100%"></div>
        </div>
    </div>

    <div ng-if="!loading">

        <div class="alert alert-success alert-dismissable">
          <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
          Successfully loaded genotypes of {{loaded_snps_count}} SNPs from you personal genome data.
        </div>

        <img src="img/SNP_snip_logo.png" alt="image of SNP snip logo not found"><br><br>		

        <form>
            <label>Search for a SNP</label>
            <a ng-click="open()">Help</a>
            <div class="input-group">
                <span class="input-group-btn">
                    <button type="submit" class="btn btn-default" ng-click="searchUpdate(input.rs)" type="button">Go!</button>
                </span>
                <input type="text" class="form-control" ng-model="input.rs" placeholder="rs-number (e.g. rs53576)">
            </div>
        </form>

        <alert ng-if="invalidInput" type="danger">Please enter a SNP-identifier in the format rs+number (example: rs1000113)</alert>

        <div ng-if="searches.length === 0">
            <br/>
            <h4><span class="mw-headline" id="Popular">Popular searches <font size="1">(List taken from <a href="http://www.snpedia.com">SNPedia</a>)</font></span></h4>
            <ul>
            <li><a href="" ng-click="searchUpdate('rs53576')" title="Rs53576">rs53576</a> in the oxytocin receptor influences social behavior and personality
            </li>
            <li><a href="" ng-click="searchUpdate('rs1815739')" title="Rs1815739">rs1815739</a> muscle performance
            </li>
            <li><a href="" ng-click="searchUpdate('rs7412')" title="Rs7412">rs7412</a> and <a href="" ng-click="searchUpdate('rs429358')" title="Rs429358">rs429358</a> can raise the risk of <a href="http://www.snpedia.com/index.php/Alzheimer%27s_disease" title="Alzheimer's disease">Alzheimer's disease</a> by more than 10x 
            </li>
            <li><a href="" ng-click="searchUpdate('rs6152')" title="Rs6152">rs6152</a> can influence <a href="http://www.snpedia.com/index.php/Baldness" title="Baldness">baldness</a>
            </li>
            <li><a href="" ng-click="searchUpdate('rs333')" title="Rs333">rs333</a> resistance to <a href="http://www.snpedia.com/index.php/HIV" title="HIV">HIV</a> 
            </li>
            <li><a href="" ng-click="searchUpdate('rs1800497')" title="Rs1800497">rs1800497</a> in a dopamine receptor may influence the sense of pleasure 
            </li>
            <li><a href="" ng-click="searchUpdate('rs1805007')" title="Rs1805007">rs1805007</a> determines <a href="http://www.snpedia.com/index.php/Red_hair" title="Red hair" class="mw-redirect">red hair</a> and sensitivity to anesthetics
            </li>
            <li><a href="" ng-click="searchUpdate('rs9939609')" title="Rs9939609">rs9939609</a> triggers <a href="http://www.snpedia.com/index.php/Obesity" title="Obesity">obesity</a> and <a href="http://www.snpedia.com/index.php/Type-2_diabetes" title="Type-2 diabetes">type-2 diabetes</a>
            </li>
            <li><a href="" ng-click="searchUpdate('rs662799')" title="Rs662799">rs662799</a> prevents weight gain from high fat diets
            </li>
            <li><a href="" ng-click="searchUpdate('rs7495174')" title="Rs7495174">rs7495174</a> green <a href="http://www.snpedia.com/index.php/Eye_color" title="Eye color">eye color</a> and <a href="" ng-click="searchUpdate('rs12913832')" title="Rs12913832">rs12913832</a> for blue <a href="http://www.snpedia.com/index.php/Eye_color" title="Eye color">eye color</a>
            </li>
            <li><a href="" ng-click="searchUpdate('rs7903146')" title="Rs7903146">rs7903146</a> in 3% of the population greatly increases the risk of <a href="http://www.snpedia.com/index.php/Type-2_diabetes" title="Type-2 diabetes">type-2 diabetes</a>
            </li>
            <li><a href="" ng-click="searchUpdate('rs12255372')" title="Rs12255372">rs12255372</a> linked to <a href="http://www.snpedia.com/index.php/Type-2_diabetes" title="Type-2 diabetes">type-2 diabetes</a> and <a href="http://www.snpedia.com/index.php/Breast_cancer" title="Breast cancer">breast cancer</a>
            </li>
            <li><a href="" ng-click="searchUpdate('rs1799971')" title="Rs1799971">rs1799971</a> makes <a href="http://www.snpedia.com/index.php/Alcohol_dependence" title="Alcohol dependence" class="mw-redirect">alcohol cravings</a> stronger
            </li>
            <li><a href="" ng-click="searchUpdate('rs17822931')" title="Rs17822931">rs17822931</a> determines <a href="http://www.snpedia.com/index.php/Earwax" title="Earwax">earwax</a>
            </li>
            <li><a href="" ng-click="searchUpdate('rs4680')" title="Rs4680">rs4680</a> varied cognitive effects
            </li>
            <li><a href="" ng-click="searchUpdate('rs1333049')" title="Rs1333049">rs1333049</a> <a href="http://www.snpedia.com/index.php/Coronary_heart_disease" title="Coronary heart disease" class="mw-redirect">coronary heart disease</a>
            </li>
            <li><a href="" ng-click="searchUpdate('rs1801133')" title="Rs1801133">rs1801133</a> <a href="http://www.snpedia.com/index.php/Folate" title="Folate">folate</a> metabolism and several cancers 
            </li>
            <li><a href="" ng-click="searchUpdate('rs1051730')" title="Rs1051730">rs1051730</a> and <a href="" ng-click="searchUpdate('rs3750344')" title="Rs3750344">rs3750344</a> nicotine dependence
            </li>
            <li><a href="" ng-click="searchUpdate('rs4988235')" title="Rs4988235">rs4988235</a> <a href="http://www.snpedia.com/index.php/Lactose_intolerance" title="Lactose intolerance">lactose intolerance</a>
            </li>
            </ul>
        </div>

        <div ng-if="searches.length > 0">
            <br/>

            <tabset>
                <tab ng-repeat="search in searches" ng-click="searchUpdate(search.rs)" active="search.active">
                    <tab-heading>{{search.rs}} <a ng-click="removeTab($index)" href=""><i class="glyphicon glyphicon-remove"></i></a></tab-heading>
                </tab>
            </tabset>

            <br/>

            <div class="panel panel-default">
                <div class="panel-heading">Your genotype</div>
                <div class="panel-body">
                    <div ng-if="userHas">Your genotype for SNP {{rs}} is {{genotype}} (Orientation: {{orientation}}).</div>
                    <div ng-if="!userHas">N/A</div>
                </div>
            </div>

            <div class="panel panel-default">
                <div class="panel-heading">General information about the SNP<font size="1">(Text taken directly from <a href="http://www.snpedia.com">SNPedia</a>)</font></div>
                <div class="panel-body">
                    <div ng-if="snpediaText!=null" ng-bind-html="snpediaText"></div>
                    <div ng-if="snpediaText==null">N/A</div>
                </div>
            </div>

            <div class="panel panel-default">
                <div class="panel-heading">Genotype frequencies in different populations <font size="1">(Data taken from <a href="http://www.hapmap.ncbi.nlm.nih.gov">HapMap</a>)</font></div>
                <div class="panel-body">
                    <div ng-if="hapmapChart!=null">
                        <div compile="hapmapChart"></div>
                        <br/>
                        <p>
                            <font size="1">
                                ASW (A): African ancestry in Southwest USA<br/>CEU (C): Utah residents with Northern and Western European ancestry from the CEPH collection<br/>CHB (H): Han Chinese in Beijing, China<br/>CHD (D): Chinese in Metropolitan Denver, Colorado<br/>GIH (G): Gujarati Indians in Houston, Texas<br/>JPT (J): Japanese in Tokyo, Japan<br/>LWK (L): Luhya in Webuye, Kenya<br/>MEX (M): Mexican ancestry in Los Angeles, California<br/>MKK (K): Maasai in Kinyawa, Kenya<br/>TSI (T): Toscans in Italy<br/>YRI (Y): Yoruba in Ibadan, Nigeria (West Africa)
                            </font> 
                        </p>
                    </div>
                    <div ng-if="hapmapChart==null">N/A</div>
                </div>
            </div>
        </div>
    </div>
</div>
